# Introdu√ß√£o ao R

Como mostrado em [@r4ds], o R facilita a an√°lise de dados.


## Instala√ß√£o do R
A instala√ß√£o padr√£o do R √© feita a partir do CRAN, uma rede de servidores espalhada pelo mundo que armazena vers√µes id√™nticas e atualizadas de c√≥digos e documenta√ß√µes para o R.

Para instalar o R no Windows, siga os seguintes passos:

1. Acesse o CRAN: https://www.r-project.org/

2. No menu √† esquerda, encontre a op√ß√£o **Download** e clique em **CRAN**.

3. Escolha a op√ß√£o de servidor (mirror) mais pr√≥xima de voc√™.

4. Clique em **Download R for Windows**.

5. Clique na op√ß√£o **base**.

6. Na nova p√°gina, clique em Download R x.x.x for Windows, sendo x.x.x o n√∫mero da vers√£o que ser√° baixada. Se voc√™ teve algum problema com o download, tente escolher outro servidor no passo 3.

7. Feito o download, clique duas vezes no arquivo baixado e siga as instru√ß√µes para instala√ß√£o.

## Instala√ß√£o do RStudio

Para instalar o RStudio, siga os passos atualizados abaixo:

Acesse a p√°gina de downloads do RStudio:

Visite https://posit.co/download/rstudio-desktop/#download.
Verifique os requisitos do sistema:

Certifique-se de que seu sistema operacional √© compat√≠vel:
Windows: Windows 10 ou superior (64 bits).
macOS: macOS 11 (Big Sur) ou superior.
Linux: Distribui√ß√µes compat√≠veis incluem Debian 10, Ubuntu 18.04 LTS, Ubuntu 20.04 LTS, Ubuntu 22.04 LTS, Debian 9, RHEL/CentOS 7, RHEL 8 e OpenSUSE/SLES 15.
Baixe o instalador adequado:

Na se√ß√£o "All Installers", selecione o instalador correspondente ao seu sistema operacional.
Instale o RStudio:

### Windows:
Execute o arquivo .exe baixado e siga as instru√ß√µes do assistente de instala√ß√£o.

### macOS:
Abra o arquivo .dmg baixado, arraste o √≠cone do RStudio para a pasta "Aplicativos" e, em seguida, ejete a imagem de disco.

### Linux:
Baixe o pacote apropriado (.deb ou .rpm) e instale-o usando as ferramentas de gerenciamento de pacotes do seu sistema.
Inicie o RStudio:

Ap√≥s a instala√ß√£o, abra o RStudio para come√ßar a utiliz√°-lo.
Lembre-se de que o RStudio requer o R instalado previamente. Certifique-se de ter o R instalado antes de prosseguir com a instala√ß√£o do RStudio.

## Sobre o R

### O que s√£o algoritmos?

**Objetivo do Algoritmo**: Plantar uma √°rvore.

**Entradas do Algoritmo**:

* Uma muda de √°rvore.
* Local de plantio escolhido.
* Ferramentas para cavar (como uma p√°).
* √Ågua para regar a muda.

**Passos do Algoritmo**:

1. Selecionar o Local: Escolher um local adequado para plantar a muda, considerando a exposi√ß√£o solar, o tipo de solo e o espa√ßo necess√°rio para o crescimento da √°rvore.

2. Cavar um Buraco: Usar a p√° para cavar um buraco no local escolhido. O buraco deve ter profundidade e largura suficientes para acomodar as ra√≠zes da muda.

3. Preparar a Muda: Remover a muda do recipiente em que veio, com cuidado para n√£o danificar as ra√≠zes.

4. Plantar a Muda: Colocar a muda no buraco, ajustando a profundidade para que a base do tronco fique no n√≠vel do solo. Preencher o buraco com terra, firmemente, mas sem compactar excessivamente.

5. Regar a Muda: Regar a muda generosamente para umedecer o solo e ajudar a estabelecer as ra√≠zes.

6. Cuidados Posteriores: Incluir instru√ß√µes b√°sicas de cuidados posteriores, como rega regular, aplica√ß√£o de mulch para manter a umidade, e prote√ß√£o contra ervas daninhas.

**Sa√≠da do Algoritmo**:

Uma √°rvore plantada e pronta para crescer no local escolhido.

### O que √© uma linguagem de programa√ß√£o?

Uma linguagem de programa√ß√£o √© uma forma padronizada de comunicar instru√ß√µes a um computador. √â como uma l√≠ngua que permite aos programadores escreverem c√≥digos que s√£o convertidos em a√ß√µes execut√°veis pelo computador, permitindo a cria√ß√£o de software, aplicativos, websites, e muito mais. Cada linguagem de programa√ß√£o tem sua pr√≥pria sintaxe e regras, assim como as l√≠nguas humanas t√™m gram√°tica e vocabul√°rio.

### R üìä  
**R** √© uma linguagem de programa√ß√£o voltada para an√°lise estat√≠stica e visualiza√ß√£o de dados.  
Ela permite:  
- Manipula√ß√£o de grandes volumes de dados üìÇ  
- Cria√ß√£o de gr√°ficos avan√ßados üìà  
- Modelagem estat√≠stica complexa üî¢  

Com uma vasta comunidade e milhares de pacotes dispon√≠veis, **R** √© ideal tanto para iniciantes quanto para especialistas em ci√™ncia de dados.  

**Alto N√≠vel:**  
R √© uma linguagem de programa√ß√£o de alto n√≠vel projetada para abstrair detalhes t√©cnicos e permitir que os usu√°rios se concentrem na an√°lise de dados e estat√≠sticas. Ela automatiza tarefas como aloca√ß√£o de mem√≥ria e manipula√ß√£o de estruturas complexas, permitindo maior foco nos problemas anal√≠ticos e menos em detalhes de implementa√ß√£o.  

**Foco em An√°lise de Dados:**  
Diferentemente de linguagens de prop√≥sito geral, R √© especialmente projetada para an√°lise estat√≠stica, ci√™ncia de dados e visualiza√ß√£o. √â amplamente usada em √°reas como bioestat√≠stica, econometria, aprendizado de m√°quina e pesquisa acad√™mica, fornecendo ferramentas especializadas para cada etapa do fluxo de trabalho anal√≠tico.  

**Visualiza√ß√µes Avan√ßadas:**  
R √© reconhecida por sua capacidade de criar gr√°ficos e visualiza√ß√µes de dados de alta qualidade, tanto para an√°lises explorat√≥rias quanto para apresenta√ß√µes profissionais. Com pacotes como `ggplot2` e `plotly`, √© poss√≠vel produzir desde gr√°ficos b√°sicos at√© visualiza√ß√µes interativas complexas.  

**Tipagem Din√¢mica e Flexibilidade:**  
R utiliza tipagem din√¢mica, onde o tipo das vari√°veis √© determinado em tempo de execu√ß√£o. Isso oferece flexibilidade para manipular diferentes tipos de dados, mas requer aten√ß√£o para evitar inconsist√™ncias. Al√©m disso, sua sintaxe foi projetada para facilitar opera√ß√µes vetoriais e manipula√ß√£o de dados em larga escala, tornando-a eficiente em tarefas anal√≠ticas.  

## Fundamentos da linguagem

### Boas pr√°ticas de codaR 

O manual de refer√™ncias de boas pr√°ticas: [@tidyverse_style_guide]

Construir...

### ?D√∫vidas

```{r, eval=FALSE}
?mean
# ou
help(mean)
```

### Tipos de dados
| Tipo         | Descri√ß√£o                           | Exemplo                        |
| ------------ | ----------------------------------- | ------------------------------ |
| `numeric`    | N√∫meros, incluindo inteiros e reais | `10`, `10.5`                   |
| `integer`    | N√∫meros inteiros                    | `as.integer(10)`               |
| `character`  | Cadeias de caracteres (texto)       | `"Ol√°"`                        |
| `logical`    | Valores booleanos                   | `TRUE`, `FALSE`                |
| `complex`    | N√∫meros complexos                   | `1+2i`                         |
| `factor`     | Vari√°veis categ√≥ricas               | `factor(c("A", "B", "A"))`     |
| `list`       | Lista de elementos heterog√™neos     | `list(1, "a", TRUE)`           |
| `data.frame` | Tabela de dados estruturados        | `data.frame(x = 1:3, y = 4:6)` |
| `matrix`     | Tabela de dados bidimensional       | `matrix(1:6, nrow = 2)`        |
| `array`      | Dados com mais de duas dimens√µes    | `array(1:8, dim = c(2, 2, 2))` |
| `NULL`       | Representa a aus√™ncia de valor      | `NULL`                         |
| `NA`         | Valor ausente ou indefinido         | `NA`                           |

### Operadores
| Categoria     | Operador       | Descri√ß√£o                    | Exemplo                  |
| ------------- | -------------- | ---------------------------- | ------------------------ |
| Aritm√©tico    | `+`            | Adi√ß√£o                       | `x + y`                  |
|               | `-`            | Subtra√ß√£o                    | `x - y`                  |
|               | `*`            | Multiplica√ß√£o                | `x * y`                  |
|               | `/`            | Divis√£o                      | `x / y`                  |
|               | `^`            | Exponencia√ß√£o                | `x ^ y`                  |
|               | `%%`           | M√≥dulo (resto da divis√£o)    | `x %% y`                 |
|               | `%/%`          | Divis√£o inteira              | `x %/% y`                |
| Compara√ß√£o    | `==`           | Igual a                      | `x == y`                 |
|               | `!=`           | Diferente de                 | `x != y`                 |
|               | `>`            | Maior que                    | `x > y`                  |
|               | `<`            | Menor que                    | `x < y`                  |
|               | `>=`           | Maior ou igual a             | `x >= y`                 |
|               | `<=`           | Menor ou igual a             | `x <= y`                 |
| L√≥gico        | `&`            | AND elemento por elemento    | `x & y`                  |
|               | `              | `                            | OR elemento por elemento | `x                          | y` |
|               | `&&`           | AND para o primeiro elemento | `x && y`                 |
|               | `              |                              | `                        | OR para o primeiro elemento | `x |  | y` |
|               | `!`            | NOT l√≥gico                   | `!x`                     |
| Atribui√ß√£o    | `<-`           | Atribui um valor             | `x <- y`                 |
|               | `->`           | Atribui um valor             | `y -> x`                 |
|               | `=`            | Atribui um valor             | `x = y`                  |
| Pertencimento | `%in%`         | Pertencimento (cont√©m)       | `x %in% y`               |
| Bit a bit     | `bitwAnd()`    | AND bit a bit                | `bitwAnd(x, y)`          |
|               | `bitwOr()`     | OR bit a bit                 | `bitwOr(x, y)`           |
|               | `bitwXor()`    | XOR bit a bit                | `bitwXor(x, y)`          |
|               | `bitwNot()`    | NOT bit a bit                | `bitwNot(x)`             |
|               | `bitwShiftL()` | Deslocamento √† esquerda      | `bitwShiftL(x, n)`       |
|               | `bitwShiftR()` | Deslocamento √† direita       | `bitwShiftR(x, n)`       |

### Convers√£o de tipos
| Fun√ß√£o            | Descri√ß√£o                               | Exemplo                              | Resultado           |
| ----------------- | --------------------------------------- | ------------------------------------ | ------------------- |
| `as.numeric()`    | Converte para tipo num√©rico             | `as.numeric("10.5")`                 | `10.5` (numeric)    |
| `as.integer()`    | Converte para inteiro                   | `as.integer(10.5)`                   | `10` (integer)      |
| `as.character()`  | Converte para texto (character)         | `as.character(10)`                   | `"10"` (character)  |
| `as.logical()`    | Converte para l√≥gico (booleano)         | `as.logical(1)`                      | `TRUE` (logical)    |
|                   |                                         | `as.logical(0)`                      | `FALSE` (logical)   |
| `as.complex()`    | Converte para n√∫mero complexo           | `as.complex(10)`                     | `10+0i` (complex)   |
| `as.factor()`     | Converte para fator (categorias)        | `as.factor(c("A", "B"))`             | `Factor` com n√≠veis |
| `as.list()`       | Converte para lista                     | `as.list(c(1, 2, 3))`                | `list(1, 2, 3)`     |
| `as.matrix()`     | Converte para matriz                    | `as.matrix(c(1, 2, 3))`              | `matrix` (2D)       |
| `as.data.frame()` | Converte para data frame                | `as.data.frame(matrix(1:4, ncol=2))` | `data.frame`        |
| `as.Date()`       | Converte para data (classe Date)        | `as.Date("2024-11-18")`              | `2024-11-18` (Date) |
| `as.POSIXct()`    | Converte para data/hora                 | `as.POSIXct("2024-11-18 10:00:00")`  | Data/hora (POSIXct) |
| `as.vector()`     | Converte para vetor                     | `as.vector(matrix(1:4, nrow=2))`     | `c(1, 2, 3, 4)`     |
| `as.array()`      | Converte para array (multi-dimensional) | `as.array(1:8)`                      | `array`             |
| `is.numeric()`    | Testa se √© num√©rico                     | `is.numeric(10.5)`                   | `TRUE`              |
| `is.character()`  | Testa se √© texto                        | `is.character("text")`               | `TRUE`              |
| `is.logical()`    | Testa se √© l√≥gico                       | `is.logical(TRUE)`                   | `TRUE`              |
| `is.factor()`     | Testa se √© fator                        | `is.factor(as.factor("A"))`          | `TRUE`              |

### Estruturas de controle
### Estruturas de Controle  

| Estrutura        | Descri√ß√£o                                                          | Exemplo                                                       |
| ---------------- | ------------------------------------------------------------------ | ------------------------------------------------------------- |
| `if`             | Executa um bloco de c√≥digo se a condi√ß√£o for verdadeira            | `if (x > 0) { print("Positivo") }`                            |
| `if-else`        | Executa um bloco se a condi√ß√£o for verdadeira e outro se for falsa | `if (x > 0) { print("Positivo") } else { print("Negativo") }` |
| `ifelse`         | Avalia√ß√£o vetorizada para condicional                              | `result <- ifelse(x > 0, "Positivo", "Negativo")`             |
| `for`            | Itera sobre elementos de um vetor ou lista                         | `for (i in 1:5) { print(i) }`                                 |
| `while`          | Executa um bloco enquanto a condi√ß√£o for verdadeira                | `while (x < 5) { print(x); x <- x + 1 }`                      |
| `repeat`         | Executa um bloco at√© encontrar um `break`                          | `repeat { if (x > 5) break; print(x); x <- x + 1 }`           |
| `break`          | Interrompe a execu√ß√£o de um la√ßo                                   | `for (i in 1:5) { if (i == 3) break; print(i) }`              |
| `next`           | Pula para a pr√≥xima itera√ß√£o de um la√ßo                            | `for (i in 1:5) { if (i == 3) next; print(i) }`               |
| `switch`         | Seleciona uma op√ß√£o com base em uma express√£o                      | `switch(x, "a" = "Op√ß√£o A", "b" = "Op√ß√£o B")`                 |
| Fun√ß√µes an√¥nimas | Executa express√µes diretamente em chamadas                         | `sapply(1:5, function(x) x^2)`                                |
| `try`            | Captura erros em blocos de c√≥digo                                  | `try({ log("a") })`                                           |
| `tryCatch`       | Captura e lida com erros e mensagens                               | `tryCatch(log("a"), error = function(e) print("Erro"))`       |


## Gerenciamento de Pacotes üì¶  

O R √© uma linguagem poderosa, ampliada pelo uso de pacotes. Com pacotes, √© poss√≠vel adicionar novas funcionalidades e acessar ferramentas espec√≠ficas para diversas tarefas, como visualiza√ß√£o de dados, manipula√ß√£o e modelagem estat√≠stica.  

---

### O que s√£o pacotes?  

Pacotes no R s√£o cole√ß√µes de fun√ß√µes, conjuntos de dados e documenta√ß√µes. Eles estendem as funcionalidades do R base e s√£o fundamentais para tarefas mais avan√ßadas.  

- Os pacotes podem ser obtidos do **CRAN** (reposit√≥rio oficial), **GitHub** ou outras fontes.  
- Pacotes populares incluem `ggplot2` (gr√°ficos), `dplyr` (manipula√ß√£o de dados) e `shiny` (aplica√ß√µes interativas).  

---

### Instalando pacotes  

Para instalar pacotes no R, utilize a fun√ß√£o `install.packages()`.  

#### Exemplo b√°sico:
```{r, eval=FALSE}
# Instalando um pacote do CRAN
install.packages("ggplot2")
```

#### Instalando m√∫ltiplos pacotes:
```{r, eval=FALSE}
install.packages(c("dplyr", "tidyr", "stringr"))
```

#### Instalando pacotes do GitHub:
Pacotes dispon√≠veis no GitHub requerem o pacote `remotes` ou `devtools` para instala√ß√£o:
```{r, eval=FALSE}
# Instalando o pacote remotes
install.packages("remotes")

# Instalando um pacote do GitHub
remotes::install_github("tidyverse/ggplot2")
```

---

### Carregando pacotes  

Depois de instalados, os pacotes precisam ser carregados para uso. Isso √© feito com a fun√ß√£o `library()`.

#### Exemplo:
```{r, eval=FALSE}
# Carregando o pacote ggplot2
library(ggplot2)
```

Se voc√™ n√£o quiser carregar o pacote inteiro, pode usar o operador `::` para chamar uma fun√ß√£o espec√≠fica:
```{r, eval=FALSE}
# Usando a fun√ß√£o ggplot() sem carregar o pacote
ggplot2::ggplot(data = mtcars, aes(x = mpg, y = hp))
```

---

### Atualizando pacotes  

Pacotes instalados podem ser atualizados para suas vers√µes mais recentes.  

#### Atualizando todos os pacotes:
```{r, eval=FALSE}
update.packages()
```

#### Atualizando pacotes espec√≠ficos:
Reinstale o pacote desejado:
```{r, eval=FALSE}
install.packages("dplyr")
```

---

### Removendo pacotes  

Se um pacote n√£o for mais necess√°rio, voc√™ pode remov√™-lo com a fun√ß√£o `remove.packages()`.

#### Exemplo:
```{r, eval=FALSE}
remove.packages("stringr")
```

---

### Verificando pacotes instalados  

Voc√™ pode listar todos os pacotes instalados ou verificar se um pacote espec√≠fico est√° presente.

#### Listando todos os pacotes:
```{r, eval=FALSE}
installed.packages()
```

#### Verificando se um pacote est√° instalado:
```{r, eval=FALSE}
"ggplot2" %in% rownames(installed.packages())
```

---

### Reposit√≥rios  

O R utiliza o **CRAN** como reposit√≥rio padr√£o para instala√ß√£o de pacotes. No entanto, voc√™ pode configurar o reposit√≥rio manualmente, por exemplo, escolhendo um mirror mais r√°pido:  
```{r, eval=FALSE}
# Configurando um reposit√≥rio brasileiro
options(repos = c(CRAN = "https://cran.rstudio.com/"))
```

---

### Ferramentas avan√ßadas para gerenciamento  

Para projetos complexos, voc√™ pode usar ferramentas para gerenciar vers√µes de pacotes e ambientes:  

- **`renv`**: Cria ambientes isolados para projetos, garantindo que as depend√™ncias permane√ßam consistentes:  
  ```{r, eval=FALSE}
  install.packages("renv")
  renv::init()
  ```

- **`packrat`**: Alternativa mais antiga ao `renv`, tamb√©m para isolamento de depend√™ncias.  

- **`conda`**: Se voc√™ utiliza Python junto com R, o `conda` permite gerenciar pacotes R em ambientes h√≠bridos.

---

### Conclus√£o  

Gerenciar pacotes √© uma habilidade essencial para qualquer usu√°rio de R. Com a pr√°tica, voc√™ poder√° instalar, atualizar, remover e gerenciar pacotes com efici√™ncia, garantindo que suas an√°lises sejam sempre baseadas em ferramentas atualizadas e confi√°veis.

## Importa√ß√£o e Exporta√ß√£o de Dados üìÇ  

O R oferece diversas ferramentas para **importar** e **exportar dados** em diferentes formatos, permitindo que voc√™ trabalhe com arquivos como CSV, Excel, bancos de dados, arquivos de texto e muito mais.

---

### Importando dados  

#### **1. Arquivos CSV**  
O formato CSV √© amplamente utilizado e facilmente manipul√°vel no R com a fun√ß√£o `read.csv()` ou a fun√ß√£o mais moderna `readr::read_csv()`.

```{r, eval=FALSE}
# Usando a fun√ß√£o base
dados <- read.csv("caminho/para/seu/arquivo.csv")

# Usando o pacote readr (do Tidyverse)
dados <- readr::read_csv("caminho/para/seu/arquivo.csv")
```

#### **2. Arquivos Excel**  
Para importar dados de planilhas Excel, voc√™ pode usar pacotes como `readxl` ou `openxlsx`.

```{r, eval=FALSE}
# Instale o pacote readxl, se necess√°rio
install.packages("readxl")

# Lendo uma planilha Excel
library(readxl)
dados <- read_excel("caminho/para/seu/arquivo.xlsx", sheet = 1)
```

#### **3. Arquivos de texto**  
Para arquivos de texto delimitados (como TSV), use `read.delim()` ou `readr::read_tsv()`.

```{r, eval=FALSE}
# Arquivo delimitado por tabula√ß√£o
dados <- read.delim("caminho/para/seu/arquivo.txt")

# Com readr
dados <- readr::read_tsv("caminho/para/seu/arquivo.txt")
```

#### **4. Bancos de Dados**  
Para se conectar a bancos de dados, use pacotes como `DBI` e `RSQLite`.

```{r, eval=FALSE}
# Exemplo com SQLite
install.packages("DBI")
install.packages("RSQLite")

library(DBI)
con <- dbConnect(RSQLite::SQLite(), "caminho/para/seu/banco.sqlite")
dados <- dbReadTable(con, "nome_da_tabela")
dbDisconnect(con)
```

#### **5. Outros formatos populares**  
- JSON: Use o pacote `jsonlite`.  
- XML: Use o pacote `xml2`.  
- Arquivos SPSS, Stata e SAS: Use o pacote `haven`.

```{r, eval=FALSE}
# Exemplo de JSON
install.packages("jsonlite")
dados <- jsonlite::fromJSON("caminho/para/seu/arquivo.json")
```

---

### Exportando dados  

#### **1. Exportando para CSV**  
A fun√ß√£o `write.csv()` √© usada para salvar dados em formato CSV.

```{r, eval=FALSE}
# Salvando um data frame como CSV
write.csv(dados, "caminho/para/saida.csv", row.names = FALSE)
```

#### **2. Exportando para Excel**  
Para salvar dados em Excel, use o pacote `openxlsx`.

```{r, eval=FALSE}
# Instale o pacote openxlsx, se necess√°rio
install.packages("openxlsx")

# Escrevendo dados em uma planilha Excel
library(openxlsx)
write.xlsx(dados, "caminho/para/saida.xlsx")
```

#### **3. Exportando para outros formatos**  
O R permite salvar dados em diversos formatos com as fun√ß√µes correspondentes:
- Texto (`write.table()`)
- JSON (`jsonlite::toJSON()`)
- Bancos de dados (`dbWriteTable()`).

**Exemplo com JSON:**
```{r, eval=FALSE}
jsonlite::toJSON(dados, pretty = TRUE, file = "caminho/para/saida.json")
```

---

### Dicas e boas pr√°ticas  
- Sempre verifique os tipos de dados importados com `str()` ou `glimpse()`.  
- Para grandes volumes de dados, considere pacotes otimizados como `data.table` ou `vroom`.  
- Configure o diret√≥rio de trabalho corretamente para evitar erros de caminho:  
  ```{r, eval=FALSE}
  setwd("caminho/para/seu/diretorio")
  ```

---

### Conclus√£o  

Importar e exportar dados s√£o passos essenciais em qualquer an√°lise. O R oferece uma ampla gama de ferramentas para lidar com diversos formatos, garantindo flexibilidade e efici√™ncia no seu fluxo de trabalho. Escolha o m√©todo mais adequado √†s suas necessidades e explore as possibilidades!


## Fun√ß√µes da fam√≠lia `apply()` no R

As fun√ß√µes da fam√≠lia `apply()` s√£o usadas para realizar opera√ß√µes repetitivas em vetores, listas, matrizes e data frames de forma eficiente e vetorizada, substituindo muitos loops expl√≠citos (`for`).

---

### **1. `apply()`**
Aplica uma fun√ß√£o ao longo de uma **margem** de uma matriz ou array (linhas ou colunas).

- **Uso:** Para matrizes e arrays.  
- **Sintaxe:** `apply(X, MARGIN, FUN, ...)`
  - `X`: Matriz ou array.  
  - `MARGIN`: Margem a operar:
    - `1` para linhas.
    - `2` para colunas.  
  - `FUN`: Fun√ß√£o a ser aplicada.

**Exemplo:**
```r
# Soma das colunas de uma matriz
mat <- matrix(1:9, nrow = 3)
apply(mat, 2, sum)
# Resultado: [1] 12 15 18

# M√©dia das linhas
apply(mat, 1, mean)
# Resultado: [1] 2 5 8
```

---

### **2. `lapply()`**
Aplica uma fun√ß√£o a cada elemento de uma **lista** ou **vetor** e retorna uma **lista** como resultado.

- **Uso:** Para listas e vetores.  
- **Sintaxe:** `lapply(X, FUN, ...)`

**Exemplo:**
```r
# Quadrado de cada elemento de um vetor
vec <- 1:5
lapply(vec, function(x) x^2)
# Resultado: [[1]] 1, [[2]] 4, [[3]] 9, [[4]] 16, [[5]] 25

# Aplica√ß√£o em uma lista
lst <- list(a = 1:3, b = 4:6)
lapply(lst, sum)
# Resultado: $a 6, $b 15
```

---

### **3. `sapply()`**
Uma vers√£o simplificada de `lapply()` que retorna um **vetor** ou **matriz** (se poss√≠vel) em vez de uma lista.

- **Uso:** Para listas e vetores.  
- **Sintaxe:** `sapply(X, FUN, ...)`

**Exemplo:**
```r
# Quadrado de cada elemento
vec <- 1:5
sapply(vec, function(x) x^2)
# Resultado: [1] 1 4 9 16 25

# Soma dos elementos em uma lista
lst <- list(a = 1:3, b = 4:6)
sapply(lst, sum)
# Resultado: [1] 6 15
```

---

### **4. `vapply()`**
Semelhante a `sapply()`, mas requer que voc√™ **especifique o tipo de retorno esperado** (mais seguro).

- **Uso:** Para listas e vetores.  
- **Sintaxe:** `vapply(X, FUN, FUN.VALUE, ...)`
  - `FUN.VALUE`: Define o tipo e formato esperado do retorno.

**Exemplo:**
```r
# Soma dos elementos em uma lista com tipo esperado (numeric)
lst <- list(a = 1:3, b = 4:6)
vapply(lst, sum, numeric(1))
# Resultado: [1]  6 15
```

---

### **5. `mapply()`**
Aplica uma fun√ß√£o a m√∫ltiplos argumentos/vetores **simultaneamente** (como um `map` em Python).

- **Uso:** Para m√∫ltiplos vetores ou listas.  
- **Sintaxe:** `mapply(FUN, ..., MoreArgs = NULL)`

**Exemplo:**
```r
# Soma de dois vetores
vec1 <- 1:5
vec2 <- 6:10
mapply(sum, vec1, vec2)
# Resultado: [1]  7  9 11 13 15

# Repeti√ß√£o customizada
mapply(rep, 1:3, 3:1)
# Resultado: [[1]] 1, [[2]] 2 2, [[3]] 3 3 3
```

---

### **6. `tapply()`**
Aplica uma fun√ß√£o a subconjuntos de um vetor, definidos por um **fator** ou grupos.

- **Uso:** Para agrupamento.  
- **Sintaxe:** `tapply(X, INDEX, FUN, ...)`
  - `X`: Vetor num√©rico.
  - `INDEX`: Fator ou lista de fatores para agrupar.

**Exemplo:**
```r
# M√©dia por grupo
vec <- c(1, 2, 3, 4, 5, 6)
grp <- factor(c("A", "A", "B", "B", "C", "C"))
tapply(vec, grp, mean)
# Resultado: $A 1.5, $B 3.5, $C 5.5
```

---

### **7. `by()`**
Semelhante a `tapply()`, mas retorna resultados organizados por **subgrupos** e funciona com data frames.

- **Uso:** Para data frames.  
- **Sintaxe:** `by(data, INDICES, FUN, ...)`

**Exemplo:**
```r
# Soma dos valores por grupo em um data frame
df <- data.frame(value = 1:6, group = c("A", "A", "B", "B", "C", "C"))
by(df$value, df$group, sum)
# Resultado:
# A: 3
# B: 7
# C: 11
```

---

### Conclus√£o
As fun√ß√µes da fam√≠lia `apply()` tornam o R extremamente poderoso e eficiente para manipula√ß√£o de dados. Use:
- **`apply()`** para matrizes/arrays.
- **`lapply()`** e **`sapply()`** para listas/vetores.
- **`mapply()`** para m√∫ltiplos vetores.
- **`tapply()`** e **`by()`** para agrupamentos.

Escolha a fun√ß√£o mais adequada com base na estrutura dos dados e no resultado desejado! üöÄ


## Pipe (`%>%`) do dplyr

### O que √© o `%>%`?
O operador `%>%` √© chamado de pipe.
Ele permite encadear fun√ß√µes de maneira a facilitar a leitura e compreens√£o do c√≥digo.
Ao inv√©s de ficar atribuindo valores intermedi√°rios ou aninhando v√°rias fun√ß√µes, voc√™ simplesmente passa o resultado de uma fun√ß√£o como entrada para a pr√≥xima.

### Exemplos de Uso
Vamos usar o conjunto de dados mtcars para entender como o pipe facilita a manipula√ß√£o de dados:

Sem `%>%` (Sem Pipe)
Imagine que queremos fazer as seguintes opera√ß√µes no dataset mtcars:

Filtrar apenas os carros que t√™m mais de 20 milhas por gal√£o (mpg > 20).
Selecionar apenas as colunas mpg, cyl, e hp.
Sem o operador `%>%`, o c√≥digo ficaria assim:

```{r}
library(dplyr)

# Sem pipe
filtered_data <- filter(mtcars, mpg > 20)
selected_data <- select(filtered_data, mpg, cyl, hp)
```
<br>
Com `%>%` (Com Pipe)
Podemos simplificar isso usando o pipe:

```{r}
library(dplyr)

# Usando pipe
selected_data <- mtcars %>%
  filter(mpg > 20) %>%
  select(mpg, cyl, hp)
```

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(kableExtra)

head(selected_data) %>%
  knitr::kable() %>%
  kableExtra::kable_styling(full_width = FALSE, bootstrap_options = c("striped", "hover"))
```
<br>
Note como o c√≥digo com `%>%` √© mais leg√≠vel e direto. Ele segue uma l√≥gica sequencial que permite facilmente entender o que est√° sendo feito em cada etapa.

## data.table

### O que √© o `:=`?
O operador `:=` √© chamado de operador de atribui√ß√£o por refer√™ncia.
Ele pertence ao pacote data.table e √© usado para adicionar ou modificar colunas em um data.table.
O `:=` √© mais eficiente do que usar `<-` em um data.table, pois faz as modifica√ß√µes "por refer√™ncia", o que significa que n√£o cria c√≥pias desnecess√°rias dos dados, sendo muito mais r√°pido e eficiente em termos de mem√≥ria.

### Exemplos de Uso
Vamos usar o pacote data.table para entender como o `:=`
 funciona.

Primeiro, vamos criar um data.table com alguns dados fict√≠cios:
```{r}
library(data.table)

# Cria√ß√£o de um data.table
DT <- data.table(
  id = 1:5,
  valor = c(10, 15, 20, 25, 30)
)

```
Adicionando uma Nova Coluna com `:=`

Podemos adicionar uma nova coluna chamada valor_2 que seja o dobro do valor existente na coluna valor:
```{r}
DT[, valor_2 := valor * 2]

print(DT)

```
<br>

Modificando uma Coluna Existente com `:=`

Podemos tamb√©m modificar uma coluna existente. Vamos modificar a coluna valor_2 para ser o triplo do valor da coluna valor:
```{r}
DT[, valor_2 := valor * 3]

print(DT)
```
