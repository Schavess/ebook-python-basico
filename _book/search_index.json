[["introdução-ao-r.html", "1 Introdução ao R 1.1 Instalação do R 1.2 Instalação do RStudio 1.3 Sobre o R 1.4 Fundamentos da linguagem 1.5 Arrays e Dataframes 1.6 Listas 1.7 Gerenciamento de Pacotes  1.8 Importação e Exportação de Dados ", " 1 Introdução ao R O R é provavelmente a mais importante ferramenta para a análise de dados florestais. 1.1 Instalação do R A instalação padrão do R é feita a partir do CRAN, uma rede de servidores espalhada pelo mundo que armazena versões idênticas e atualizadas de códigos e documentações para o R. 1.1.1 Windows Para instalar o R no Windows, siga os seguintes passos: Acesse o CRAN: https://www.r-project.org/ No menu à esquerda, encontre a opção Download e clique em CRAN. Escolha a opção de servidor (mirror) mais próxima de você. Clique em Download R for Windows. Clique na opção base. Na nova página, clique em Download R x.x.x for Windows, sendo x.x.x o número da versão que será baixada. Se você teve algum problema com o download, tente escolher outro servidor no passo 3. Feito o download, clique duas vezes no arquivo baixado e siga as instruções para instalação. 1.1.2 macOS Abra o terminal: Command + Espaço “terminal” e Enter brew install --cask r 1.1.3 Linux Abra o terminal Linux: ctrl + alt + t sudo apt update sudo apt upgrade sudo apt install -y r-base 1.2 Instalação do RStudio Para instalar o RStudio, siga os passos atualizados abaixo: Acesse a página de downloads do RStudio: Visite https://posit.co/download/rstudio-desktop/#download. Verifique os requisitos do sistema: Certifique-se de que seu sistema operacional é compatível: Windows: Windows 10 ou superior (64 bits). macOS: macOS 11 (Big Sur) ou superior. Linux: Distribuições compatíveis incluem Debian 10, Ubuntu 18.04 LTS, Ubuntu 20.04 LTS, Ubuntu 22.04 LTS, Debian 9, RHEL/CentOS 7, RHEL 8 e OpenSUSE/SLES 15. Baixe o instalador adequado: Na seção “All Installers”, selecione o instalador correspondente ao seu sistema operacional. Instale o RStudio: 1.2.1 Windows Execute o arquivo .exe baixado e siga as instruções do assistente de instalação. 1.2.2 macOS Abra o arquivo .dmg baixado, arraste o ícone do RStudio para a pasta “Aplicativos” e, em seguida, ejete a imagem de disco. 1.2.3 Linux Baixe o pacote apropriado (.deb ou .rpm) e instale-o usando as ferramentas de gerenciamento de pacotes do seu sistema. Inicie o RStudio: Após a instalação, abra o RStudio para começar a utilizá-lo. Lembre-se de que o RStudio requer o R instalado previamente. Certifique-se de ter o R instalado antes de prosseguir com a instalação do RStudio. 1.3 Sobre o R 1.3.1 O que são algoritmos? Objetivo do Algoritmo: Plantar uma árvore. Entradas do Algoritmo: Uma muda de árvore. Local de plantio escolhido. Ferramentas para cavar (como uma pá). Água para regar a muda. Passos do Algoritmo: Selecionar o Local: Escolher um local adequado para plantar a muda, considerando a exposição solar, o tipo de solo e o espaço necessário para o crescimento da árvore. Cavar um Buraco: Usar a pá para cavar um buraco no local escolhido. O buraco deve ter profundidade e largura suficientes para acomodar as raízes da muda. Preparar a Muda: Remover a muda do recipiente em que veio, com cuidado para não danificar as raízes. Plantar a Muda: Colocar a muda no buraco, ajustando a profundidade para que a base do tronco fique no nível do solo. Preencher o buraco com terra, firmemente, mas sem compactar excessivamente. Regar a Muda: Regar a muda generosamente para umedecer o solo e ajudar a estabelecer as raízes. Cuidados Posteriores: Incluir instruções básicas de cuidados posteriores, como rega regular, aplicação de mulch para manter a umidade, e proteção contra ervas daninhas. Saída do Algoritmo: Uma árvore plantada e pronta para crescer no local escolhido. 1.3.2 O que é uma linguagem de programação? Uma linguagem de programação é uma forma padronizada de comunicar instruções a um computador. É como uma língua que permite aos programadores escreverem códigos que são convertidos em ações executáveis pelo computador, permitindo a criação de software, aplicativos, websites, e muito mais. Cada linguagem de programação tem sua própria sintaxe e regras, assim como as línguas humanas têm gramática e vocabulário. 1.3.3 R  R é uma linguagem de programação voltada para análise estatística e visualização de dados. Ela permite: - Manipulação de grandes volumes de dados  - Criação de gráficos avançados  - Modelagem estatística complexa  Com uma vasta comunidade e milhares de pacotes disponíveis, R é ideal tanto para iniciantes quanto para especialistas em ciência de dados. Alto Nível: R é uma linguagem de programação de alto nível projetada para abstrair detalhes técnicos e permitir que os usuários se concentrem na análise de dados e estatísticas. Ela automatiza tarefas como alocação de memória e manipulação de estruturas complexas, permitindo maior foco nos problemas analíticos e menos em detalhes de implementação. Foco em Análise de Dados: Diferentemente de linguagens de propósito geral, R é especialmente projetada para análise estatística, ciência de dados e visualização. É amplamente usada em áreas como bioestatística, econometria, aprendizado de máquina e pesquisa acadêmica, fornecendo ferramentas especializadas para cada etapa do fluxo de trabalho analítico. Visualizações Avançadas: R é reconhecida por sua capacidade de criar gráficos e visualizações de dados de alta qualidade, tanto para análises exploratórias quanto para apresentações profissionais. Com pacotes como ggplot2 e plotly, é possível produzir desde gráficos básicos até visualizações interativas complexas. Tipagem Dinâmica e Flexibilidade: R utiliza tipagem dinâmica, onde o tipo das variáveis é determinado em tempo de execução. Isso oferece flexibilidade para manipular diferentes tipos de dados, mas requer atenção para evitar inconsistências. Além disso, sua sintaxe foi projetada para facilitar operações vetoriais e manipulação de dados em larga escala, tornando-a eficiente em tarefas analíticas. 1.4 Fundamentos da linguagem 1.4.1 Boas práticas de codaR 1.4.1.1 O Básico Acesse no menu superior tools &gt; Global Options... &gt; code &gt; Display e defina os padrões de identação e estilização que deseja. E Salve. Agora basta selecionar o trecho de código e usar o atalho Ctrl + shift + A(Windows). 1.4.1.2 Avançado Para um estudo profundo verificar: O manual de referências de boas práticas (Wickham e contributors 2021) 1.4.2 ?Dúvidas ?mean # ou help(mean) 1.4.3 Tipos de dados Conhecer os tipos de dados utilizados pela linguagem é essencial para sua manipulação e análise. A seguir, estão os principais tipos de dados: Tipo Descrição Exemplo numeric Números, incluindo inteiros e reais 10, 10.5 integer Números inteiros as.integer(10) character Cadeias de caracteres (texto) \"Olá\" logical Valores booleanos TRUE, FALSE complex Números complexos 1+2i factor Variáveis categóricas factor(c(\"A\", \"B\", \"A\")) list Lista de elementos heterogêneos list(1, \"a\", TRUE) data.frame Tabela de dados estruturados data.frame(x = 1:3, y = 4:6) matrix Tabela de dados bidimensional matrix(1:6, nrow = 2) array Dados com mais de duas dimensões array(1:8, dim = c(2, 2, 2)) NULL Representa a ausência de valor NULL NA Valor ausente ou indefinido NA 1.4.4 Operadores Há inúmeras operações que podem ser realizadas com os dados dentro da lógica da programação. A seguir, estão os principais operadores: Categoria Operador Descrição Exemplo Aritmético + Adição x + y - Subtração x - y * Multiplicação x * y / Divisão x / y ^ Exponenciação x ^ y %% Módulo (resto da divisão) x %% y %/% Divisão inteira x %/% y Comparação == Igual a x == y != Diferente de x != y &gt; Maior que x &gt; y &lt; Menor que x &lt; y &gt;= Maior ou igual a x &gt;= y &lt;= Menor ou igual a x &lt;= y Lógico &amp; AND elemento por elemento x &amp; y | OR elemento por elemento x | y &amp;&amp; AND para o primeiro elemento x &amp;&amp; y | | OR para o primeiro elemento x | | y ! NOT lógico !x Atribuição &lt;- Atribui um valor x &lt;- y -&gt; Atribui um valor y -&gt; x = Atribui um valor x = y Pertencimento %in% Pertencimento (contém) x %in% y Bit a bit bitwAnd() AND bit a bit bitwAnd(x, y) bitwOr() OR bit a bit bitwOr(x, y) bitwXor() XOR bit a bit bitwXor(x, y) bitwNot() NOT bit a bit bitwNot(x) bitwShiftL() Deslocamento à esquerda bitwShiftL(x, n) bitwShiftR() Deslocamento à direita bitwShiftR(x, n) 1.4.5 Conversão de tipos Por se tratar de uma linguagem de tipagem dinâmica, é possível converter os tipos de dados: Função Descrição Exemplo Resultado as.numeric() Converte para tipo numérico as.numeric(\"10.5\") 10.5 (numeric) as.integer() Converte para inteiro as.integer(10.5) 10 (integer) as.character() Converte para texto (character) as.character(10) \"10\" (character) as.logical() Converte para lógico (booleano) as.logical(1) TRUE (logical) as.logical(0) FALSE (logical) as.complex() Converte para número complexo as.complex(10) 10+0i (complex) as.factor() Converte para fator (categorias) as.factor(c(\"A\", \"B\")) Factor com níveis as.list() Converte para lista as.list(c(1, 2, 3)) list(1, 2, 3) as.matrix() Converte para matriz as.matrix(c(1, 2, 3)) matrix (2D) as.data.frame() Converte para data frame as.data.frame(matrix(1:4, ncol=2)) data.frame as.Date() Converte para data (classe Date) as.Date(\"2024-11-18\") 2024-11-18 (Date) as.POSIXct() Converte para data/hora as.POSIXct(\"2024-11-18 10:00:00\") Data/hora (POSIXct) as.vector() Converte para vetor as.vector(matrix(1:4, nrow=2)) c(1, 2, 3, 4) as.array() Converte para array (multi-dimensional) as.array(1:8) array is.numeric() Testa se é numérico is.numeric(10.5) TRUE is.character() Testa se é texto is.character(\"text\") TRUE is.logical() Testa se é lógico is.logical(TRUE) TRUE is.factor() Testa se é fator is.factor(as.factor(\"A\")) TRUE 1.4.6 Estruturas de Controle A lógica da programação e a construção de algoritmos dependem das estruturas de controle: Estrutura Descrição Exemplo if Executa um bloco de código se a condição for verdadeira if (x &gt; 0) { print(\"Positivo\") } if-else Executa um bloco se a condição for verdadeira e outro se for falsa if (x &gt; 0) { print(\"Positivo\") } else { print(\"Negativo\") } ifelse Avaliação vetorizada para condicional result &lt;- ifelse(x &gt; 0, \"Positivo\", \"Negativo\") for Itera sobre elementos de um vetor ou lista for (i in 1:5) { print(i) } while Executa um bloco enquanto a condição for verdadeira while (x &lt; 5) { print(x); x &lt;- x + 1 } repeat Executa um bloco até encontrar um break repeat { if (x &gt; 5) break; print(x); x &lt;- x + 1 } break Interrompe a execução de um laço for (i in 1:5) { if (i == 3) break; print(i) } next Pula para a próxima iteração de um laço for (i in 1:5) { if (i == 3) next; print(i) } switch Seleciona uma opção com base em uma expressão switch(x, \"a\" = \"Opção A\", \"b\" = \"Opção B\") Funções anônimas Executa expressões diretamente em chamadas sapply(1:5, function(x) x^2) try Captura erros em blocos de código try({ log(\"a\") }) tryCatch Captura e lida com erros e mensagens tryCatch(log(\"a\"), error = function(e) print(\"Erro\")) 1.5 Arrays e Dataframes 1.5.1 Vetor Um vetor é a estrutura mais básica no R. Ele representa um array unidimensional que armazena elementos do mesmo tipo (numérico, lógico, caractere, etc.). Podemos criar vetores usando a função c(). # Criando vetores de diferentes tipos vetor_numerico &lt;- c(1, 2, 3, 4, 5) vetor_caractere &lt;- c(&quot;Maçã&quot;, &quot;Banana&quot;, &quot;Laranja&quot;) vetor_logico &lt;- c(TRUE, FALSE, TRUE) # Visualizando os vetores print(vetor_numerico) ## [1] 1 2 3 4 5 print(vetor_caractere) ## [1] &quot;Maçã&quot; &quot;Banana&quot; &quot;Laranja&quot; print(vetor_logico) ## [1] TRUE FALSE TRUE 1.5.2 Arrays Um array em R é uma estrutura de dados multidimensional que pode armazenar elementos de um único tipo (númerico, caractere, etc.). Ele é como uma extensão de vetores, podendo ter duas ou mais dimensões. 1.5.2.1 Criando Arrays Para criar um array, usamos a função array(). # Criando um array 3x3x2 meu_array &lt;- array(data = 1:18, dim = c(3, 3, 2)) # Visualizando o array print(meu_array) ## , , 1 ## ## [,1] [,2] [,3] ## [1,] 1 4 7 ## [2,] 2 5 8 ## [3,] 3 6 9 ## ## , , 2 ## ## [,1] [,2] [,3] ## [1,] 10 13 16 ## [2,] 11 14 17 ## [3,] 12 15 18 O exemplo acima cria um array com 3 linhas, 3 colunas e 2 “camadas”. 1.5.2.2 Acessando elementos Os elementos em arrays podem ser acessados usando índices. # Acessar o elemento na posição [1, 2, 1] meu_array[1, 2, 1] ## [1] 4 # Acessar a segunda camada inteira meu_array[, , 2] ## [,1] [,2] [,3] ## [1,] 10 13 16 ## [2,] 11 14 17 ## [3,] 12 15 18 1.5.3 Dataframes Os dataframes são a estrutura de dados mais comum no R para manipular tabelas de dados. Eles permitem armazenar diferentes tipos de variáveis (numéricas, categóricas, etc.) em colunas. 1.5.3.1 Criando Dataframes # Criando um dataframe meu_dataframe &lt;- data.frame( Nome = c(&quot;João&quot;, &quot;Ana&quot;, &quot;Carlos&quot;), Idade = c(25, 30, 22), Altura = c(1.75, 1.68, 1.80) ) # Visualizando o dataframe print(meu_dataframe) ## Nome Idade Altura ## 1 João 25 1.75 ## 2 Ana 30 1.68 ## 3 Carlos 22 1.80 1.5.3.2 Acessando elementos Você pode acessar linhas, colunas ou células específicas de um dataframe. # Acessar a coluna &quot;Idade&quot; meu_dataframe$Idade ## [1] 25 30 22 # Acessar a primeira linha meu_dataframe[1, ] ## Nome Idade Altura ## 1 João 25 1.75 # Acessar um elemento específico (linha 2, coluna 3) meu_dataframe[2, 3] ## [1] 1.68 1.5.3.3 Criando ou Removendo uma coluna # Adicionar uma nova coluna meu_dataframe$Peso &lt;- c(70, 60, 80) print(meu_dataframe) ## Nome Idade Altura Peso ## 1 João 25 1.75 70 ## 2 Ana 30 1.68 60 ## 3 Carlos 22 1.80 80 # Remover a coluna &quot;Peso&quot; meu_dataframe$Peso &lt;- NULL print(meu_dataframe) ## Nome Idade Altura ## 1 João 25 1.75 ## 2 Ana 30 1.68 ## 3 Carlos 22 1.80 1.6 Listas As listas são estruturas mais flexíveis do que vetores ou dataframes. Uma lista pode armazenar diferentes tipos de objetos, incluindo vetores, dataframes, e até outras listas. 1.6.1 Criando listas # Criando uma lista minha_lista &lt;- list( numeros = c(1, 2, 3), nomes = c(&quot;Alice&quot;, &quot;Bob&quot;, &quot;Carol&quot;), dataframe = meu_dataframe ) # Visualizando a lista print(minha_lista) ## $numeros ## [1] 1 2 3 ## ## $nomes ## [1] &quot;Alice&quot; &quot;Bob&quot; &quot;Carol&quot; ## ## $dataframe ## Nome Idade Altura ## 1 João 25 1.75 ## 2 Ana 30 1.68 ## 3 Carlos 22 1.80 1.6.2 Acessando Elementos de Listas Os elementos de uma lista podem ser acessados por índices ou nomes. # Acessar o primeiro elemento minha_lista[[1]] ## [1] 1 2 3 # Acessar pelo nome minha_lista$numeros ## [1] 1 2 3 # Acessar elementos dentro de um dataframe armazenado minha_lista$dataframe$Idade ## [1] 25 30 22 1.6.3 Dataframe vs. Lista Embora um dataframe seja tecnicamente uma lista, ele é estruturado de maneira que todas as colunas tenham o mesmo número de elementos e seja mais simples de trabalhar com dados tabulares. Já as listas são muito mais flexíveis. Característica Dataframe Lista Estrutura Tabela (linhas e colunas) Estrutura hierárquica Tipos de dados Colunas podem ter tipos diferentes Elementos podem ser de qualquer tipo, incluindo listas ou dataframes Indexação Por linhas e colunas Por índices ou nomes Uso típico Dados tabulares Agrupamento de objetos heterogêneos 1.7 Gerenciamento de Pacotes  O R é uma linguagem poderosa, ampliada pelo uso de pacotes. Com pacotes, é possível adicionar novas funcionalidades e acessar ferramentas específicas para diversas tarefas, como visualização de dados, manipulação e modelagem estatística. 1.7.1 O que são pacotes? Pacotes no R são coleções de funções, conjuntos de dados e documentações. Eles estendem as funcionalidades do R base e são fundamentais para tarefas mais avançadas. Os pacotes podem ser obtidos do CRAN (repositório oficial), GitHub ou outras fontes. Pacotes populares incluem ggplot2 (gráficos), dplyr (manipulação de dados) e shiny (aplicações interativas). 1.7.2 Instalando pacotes Para instalar pacotes no R, utilize a função install.packages(). 1.7.2.1 Exemplo básico: # Instalando um pacote do CRAN install.packages(&quot;ggplot2&quot;) 1.7.2.2 Instalando múltiplos pacotes: install.packages(c(&quot;dplyr&quot;, &quot;tidyr&quot;, &quot;stringr&quot;)) 1.7.2.3 Instalando pacotes do GitHub: Pacotes disponíveis no GitHub requerem o pacote remotes ou devtools para instalação: # Instalando o pacote remotes install.packages(&quot;remotes&quot;) # Instalando um pacote do GitHub remotes::install_github(&quot;tidyverse/ggplot2&quot;) 1.7.3 Carregando pacotes Depois de instalados, os pacotes precisam ser carregados para uso. Isso é feito com a função library(). 1.7.3.1 Exemplo: # Carregando o pacote ggplot2 library(ggplot2) Se você não quiser carregar o pacote inteiro, pode usar o operador :: para chamar uma função específica: # Usando a função ggplot() sem carregar o pacote ggplot2::ggplot(data = mtcars, aes(x = mpg, y = hp)) 1.7.4 Atualizando pacotes Pacotes instalados podem ser atualizados para suas versões mais recentes. 1.7.4.1 Atualizando todos os pacotes: update.packages() 1.7.4.2 Atualizando pacotes específicos: Reinstale o pacote desejado: install.packages(&quot;dplyr&quot;) 1.7.5 Removendo pacotes Se um pacote não for mais necessário, você pode removê-lo com a função remove.packages(). 1.7.5.1 Exemplo: remove.packages(&quot;stringr&quot;) 1.7.6 Verificando pacotes instalados Você pode listar todos os pacotes instalados ou verificar se um pacote específico está presente. 1.7.6.1 Listando todos os pacotes: installed.packages() 1.7.6.2 Verificando se um pacote está instalado: &quot;ggplot2&quot; %in% rownames(installed.packages()) 1.7.7 Repositórios O R utiliza o CRAN como repositório padrão para instalação de pacotes. No entanto, você pode configurar o repositório manualmente, por exemplo, escolhendo um mirror mais rápido: # Configurando um repositório brasileiro options(repos = c(CRAN = &quot;https://cran.rstudio.com/&quot;)) 1.7.8 Ferramentas avançadas para gerenciamento Para projetos complexos, você pode usar ferramentas para gerenciar versões de pacotes e ambientes: renv: Cria ambientes isolados para projetos, garantindo que as dependências permaneçam consistentes: install.packages(&quot;renv&quot;) renv::init() packrat: Alternativa mais antiga ao renv, também para isolamento de dependências. conda: Se você utiliza Python junto com R, o conda permite gerenciar pacotes R em ambientes híbridos. 1.8 Importação e Exportação de Dados  O R oferece diversas ferramentas para importar e exportar dados em diferentes formatos, permitindo que você trabalhe com arquivos como CSV, Excel, bancos de dados, arquivos de texto e muito mais. 1.8.1 Importando dados 1.8.1.1 1. Arquivos CSV O formato CSV é amplamente utilizado e facilmente manipulável no R com a função read.csv() ou a função mais moderna readr::read_csv(). # Usando a função base dados &lt;- read.csv(&quot;caminho/para/seu/arquivo.csv&quot;) # Usando o pacote readr (do Tidyverse) dados &lt;- readr::read_csv(&quot;caminho/para/seu/arquivo.csv&quot;) 1.8.1.2 2. Arquivos Excel Para importar dados de planilhas Excel, você pode usar pacotes como readxl ou openxlsx. # Instale o pacote readxl, se necessário install.packages(&quot;readxl&quot;) # Lendo uma planilha Excel library(readxl) dados &lt;- read_excel(&quot;caminho/para/seu/arquivo.xlsx&quot;, sheet = 1) 1.8.1.3 3. Arquivos de texto Para arquivos de texto delimitados (como TSV), use read.delim() ou readr::read_tsv(). # Arquivo delimitado por tabulação dados &lt;- read.delim(&quot;caminho/para/seu/arquivo.txt&quot;) # Com readr dados &lt;- readr::read_tsv(&quot;caminho/para/seu/arquivo.txt&quot;) 1.8.1.4 4. Bancos de Dados Para se conectar a bancos de dados, use pacotes como DBI e RSQLite. # Exemplo com SQLite install.packages(&quot;DBI&quot;) install.packages(&quot;RSQLite&quot;) library(DBI) con &lt;- dbConnect(RSQLite::SQLite(), &quot;caminho/para/seu/banco.sqlite&quot;) dados &lt;- dbReadTable(con, &quot;nome_da_tabela&quot;) dbDisconnect(con) 1.8.1.5 5. Outros formatos populares JSON: Use o pacote jsonlite. XML: Use o pacote xml2. Arquivos SPSS, Stata e SAS: Use o pacote haven. # Exemplo de JSON install.packages(&quot;jsonlite&quot;) dados &lt;- jsonlite::fromJSON(&quot;caminho/para/seu/arquivo.json&quot;) 1.8.2 Exportando dados 1.8.2.1 1. Exportando para CSV A função write.csv() é usada para salvar dados em formato CSV. # Salvando um data frame como CSV write.csv(dados, &quot;caminho/para/saida.csv&quot;, row.names = FALSE) 1.8.2.2 2. Exportando para Excel Para salvar dados em Excel, use o pacote openxlsx. # Instale o pacote openxlsx, se necessário install.packages(&quot;openxlsx&quot;) # Escrevendo dados em uma planilha Excel library(openxlsx) write.xlsx(dados, &quot;caminho/para/saida.xlsx&quot;) 1.8.2.3 3. Exportando para outros formatos O R permite salvar dados em diversos formatos com as funções correspondentes: - Texto (write.table()) - JSON (jsonlite::toJSON()) - Bancos de dados (dbWriteTable()). Exemplo com JSON: jsonlite::toJSON(dados, pretty = TRUE, file = &quot;caminho/para/saida.json&quot;) 1.8.3 Dicas e boas práticas Sempre verifique os tipos de dados importados com str() ou glimpse(). Para grandes volumes de dados, considere pacotes otimizados como data.table ou vroom. Configure o diretório de trabalho corretamente para evitar erros de caminho: setwd(&quot;caminho/para/seu/diretorio&quot;) Referências Wickham, Hadley, e contributors. 2021. Tidyverse Style Guide. RStudio, PBC. https://style.tidyverse.org/. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
