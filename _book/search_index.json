[["inventário-florestal.html", "3 Inventário florestal 3.1 Levantamento Fitossociológico 3.2 Aplicação", " 3 Inventário florestal 3.1 Levantamento Fitossociológico 3.1.1 Estrutura horizontal 3.1.1.1 Densidade absoluta \\[ DA_i = \\frac{n_i}{A} \\] 3.1.1.2 Densidade relativa \\[ DR_i = \\frac{DA_i}{\\sum_{i=1}^s (DA_i)} \\] 3.1.1.3 Dominância absoluta \\[ DoA_i = \\frac{\\sum_{j=1}^{n_i} g_j}{A} = \\frac{G_i}{A} \\] 3.1.1.4 Dominância relativa \\[ DoR_i = \\frac{DoA_i}{\\sum_{i=1}^{S} (DoA_i)}*100=\\frac{G_i}{G_T}*100 \\] 3.1.1.5 Frequência Absoluta \\[ FA_i = \\frac{U_i}{U_T}*100 \\] 3.1.1.6 Frequência Relativa \\[ FR_i = \\frac{FA_i}{\\sum_{i=1}^{S}(FA_i)}*100 \\] 3.1.1.7 Valor de Cobertura \\[ VC_i = DR_i + DoR_i \\] 3.1.1.8 Porcentagem de Cobertura \\[ PC_i = \\frac{DR_i + DoR_i}{2} \\] 3.1.1.9 Valor de Cobertura \\[ VC_i = DR_i + DoR_i + FR_i \\] 3.1.1.10 Porcentagem de Cobertura (Horizontal) \\[ PC_i = \\frac{DR_i + DoR_i + FR_i}{3} \\] 3.1.2 Diversidade 3.1.2.1 Índice de Shannom \\[ H&#39; = -\\sum_{i=1}^S p_i \\ln(p_i) \\] 3.1.3 Agregação 3.1.3.1 Índice de Morisita \\[ I_\\delta = \\frac{n \\sum_{i=1}^S n_i (n_i - 1)}{N (N - 1)} \\] 3.1.4 Estrutura vertical 3.1.4.1 Posição Sociológica Absoluta \\[ PSA_i = \\sum_{j=1}^{J}\\left(\\frac{N_j}{N} \\cdot N_{ij}\\right) \\] 3.1.4.2 Posição Sociológica Relativa \\[ PSR_i = \\frac{PSA_i}{\\sum_{i=1}^{S} PSA_i} \\cdot 100 \\] 3.1.4.3 Valor de Importância Absoluta (Horizontal + Vertical) \\[ VI_a = DR_i + DoR_i + FR_i + PSA_i \\] 3.1.4.4 Valor de Importância Relativa (Horizontal + Vertical) \\[ VI_r = \\frac{DR_i + DoR_i + FR_i + PSA_i}{4} \\] 3.1.5 Regeneração Pode-se usar os mesmos índices anteriores de estrutura horizontal, vertical, etc. O resultado final será o Indicador de Regeneração Natural que poderá ser usado para calcular o Valor de Importância Ampliado: \\[ VIA_r = \\frac{DR_i + DoR_i + FR_i + PSA_i + RN_i}{5} \\] 3.2 Aplicação Dados exemplo: Baixar dados 3.2.1 Consistência dos dados items_excluir &lt;- c(&quot;SP&quot;, &quot;Morta&quot;, &quot;PP&quot;, &quot;PS&quot;, &quot;Repetida&quot;, &quot;Repitida&quot;, &quot;Morfoespécie 7&quot;, &quot;Morfoespécie 8&quot;) BD_ &lt;- BD[!BD$`Nome Científico` %in% items_excluir, ] BD_$DAP &lt;- as.numeric(BD_$DAP) BD_$`H T` &lt;- as.numeric(BD_$`H T`) 3.2.2 Distribuição diamétrica geral intervalo &lt;- 5 min_d &lt;- floor(min(BD_$DAP, na.rm = TRUE)) max_d &lt;- ceiling(max(BD_$DAP, na.rm = TRUE)) intervalos &lt;- seq(0, max_d + intervalo, by = intervalo) hist(BD_$DAP, breaks = intervalos, main = NULL, xlab = &quot;Diâmetro (cm)&quot;, ylab = &quot;Frequência&quot;) 3.2.3 Distribuição por espécies (boxplots) 3.2.3.1 Boxplot dos DAPs require(ggplot2) especies &lt;- unique(BD_$`Nome Científico`) p &lt;- ggplot(BD_, aes(x = reorder(`Nome Científico`, DAP, median), y = DAP, fill = `Nome Científico`)) + geom_boxplot(outlier.shape = NA) + # Boxplot sem os outliers theme_minimal(base_size = 10) + theme( axis.text.x = element_text(angle = 45, hjust = 1, size = 6), legend.position = &quot;none&quot; # Remover legenda, se preferir ) + labs(title = &quot;Distribuição dos DAPs por Espécie&quot;, x = &quot;Espécies&quot;, y = &quot;DAP (cm)&quot;) print(p) 3.2.3.2 boxplot das alturas totais p &lt;- ggplot(BD_, aes(x = reorder(`Nome Científico`, `H T`, median), y = `H T`, fill = `Nome Científico`)) + geom_boxplot(outlier.shape = NA) + # Boxplot sem os outliers theme_minimal(base_size = 10) + theme( axis.text.x = element_text(angle = 45, hjust = 1, size = 6), legend.position = &quot;none&quot; # Remover legenda, se preferir ) + labs(title = &quot;Distribuição das HTs por Espécie&quot;, x = &quot;Espécies&quot;, y = &quot;HT (m)&quot;) print(p) 3.2.4 Parâmetros Fitossociológicos 3.2.4.1 Estrutura horizontal library(dplyr) library(data.table) EH &lt;- function(species, sample, d, A) { DT &lt;- data.table(species = species, sample = sample, d = d) DT &lt;- DT[, `:=`(gi = pi * d^2 / 40000)] Ui &lt;- unique(DT, by = c(&quot;species&quot;, &quot;sample&quot;))[, .(Ui = .N), by = &quot;species&quot;] ni &lt;- DT[, .(ni = .N, Gi = sum(gi)), by = &quot;species&quot;] ni &lt;- ni[Ui, on = &quot;species&quot;] ni[, DAi := ni / A][, DRi := (DAi / sum(DAi)) * 100] ni[, DoAi := Gi / A][, DoRi := (DoAi / sum(DoAi)) * 100] ni[, FAi := (Ui / length(unique(DT$sample))) * 100][, FRi := (FAi / sum(FAi)) * 100] num_cols &lt;- names(ni)[sapply(ni, is.numeric)] ni[, (num_cols) := lapply(.SD, round, 4), .SDcols = num_cols] setnames(ni, old = &quot;species&quot;, new = &quot;Espécies&quot;) return(ni) } EH_result &lt;- EH(BD_$`Nome Científico`, BD_$Parc, BD_$DAP, A = 0.8) Resultados: 3.2.4.2 Índice de Shannon (Diversidade) shannon &lt;- function(species_counts) { pi &lt;- species_counts / sum(species_counts) -sum(pi * log(pi), na.rm = TRUE) } H &lt;- shannon(EH_result$ni) cat(&quot;Índice de Shannon:&quot;, H, &quot;\\n&quot;) ## Índice de Shannon: 3.16804 3.2.4.3 Índice de Morisita (Agregação) morisita &lt;- function(species_counts) { N &lt;- sum(species_counts) n &lt;- length(species_counts) num &lt;- n * sum(species_counts * (species_counts - 1)) den &lt;- N * (N - 1) num / den } I_delta &lt;- morisita(EH_result$ni) cat(&quot;Índice de Morisita:&quot;, I_delta, &quot;\\n&quot;) ## Índice de Morisita: 2.485606 3.2.4.4 Estrutura vertical e classificação em estratos BD_$`H T` &lt;- as.numeric(BD_$`H T`) meanH &lt;- mean(BD_$`H T`, na.rm = TRUE) sdH &lt;- sd(BD_$`H T`, na.rm = TRUE) # Calcular estrato BD_$estrato &lt;- case_when( BD_$`H T` &lt; (meanH - sdH) ~ &quot;Inferior&quot;, BD_$`H T` &gt;= (meanH - sdH) &amp; BD_$`H T` &lt;= (meanH + sdH) ~ &quot;Médio&quot;, BD_$`H T` &gt; (meanH + sdH) ~ &quot;Superior&quot; ) # Calcular PSAi e PSRi resultados &lt;- BD_ %&gt;% group_by(estrato) %&gt;% mutate( Nj = n(), # Total de indivíduos no estrato N = nrow(BD_), # Total de indivíduos na floresta Pj = Nj / N # Peso do estrato no total ) %&gt;% group_by(`Nome Científico`, estrato) %&gt;% summarise( Nji = n(), # Número de indivíduos da espécie no estrato Nj = first(Nj), # Total de indivíduos no estrato Pj = first(Pj), # Peso do estrato PSAi_partial = (Nji / Nj) * Pj, # Contribuição parcial para PSAi .groups = &quot;drop&quot; ) %&gt;% group_by(`Nome Científico`) %&gt;% summarise( PSAi = sum(PSAi_partial, na.rm = TRUE) # Soma das contribuições parciais para PSAi ) %&gt;% ungroup() %&gt;% mutate( PSRi = (PSAi / sum(PSAi, na.rm = TRUE)) * 100 # PSRi como porcentagem global ) # Fusão das tabelas com left_join EH_result &lt;- EH_result %&gt;% left_join(resultados, by = c(&quot;Espécies&quot; = &quot;Nome Científico&quot;)) # Adicionando o Valor de Importância Ampliado (VIA) required_cols &lt;- c(&quot;DAi&quot;, &quot;DoAi&quot;, &quot;FAi&quot;, &quot;PSAi&quot;, &quot;DRi&quot;, &quot;DoRi&quot;, &quot;FRi&quot;, &quot;PSRi&quot;) missing_cols &lt;- required_cols[!required_cols %in% names(EH_result)] if (length(missing_cols) &gt; 0) { stop(paste(&quot;Colunas ausentes em `EH_result`: &quot;, paste(missing_cols, collapse = &quot;, &quot;))) } EH_result &lt;- EH_result %&gt;% mutate( VIAa = (DAi + DoAi + FAi + PSAi) / 4, # Cálculo do VIA absoluto ) # Visualizar os resultados finais com arredondamento resultado_final &lt;- EH_result %&gt;% arrange(desc(VIAa)) %&gt;% mutate(across(where(is.numeric), round, 4)) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
